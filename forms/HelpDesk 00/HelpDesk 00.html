<html>
<head>
	<link type="text/css" rel="stylesheet" href="/style-guide/css/fluig-style-guide.min.css"/>
	<script type="text/javascript" src="/portal/resources/js/jquery/jquery.js"></script>
	<script type="text/javascript" src="/portal/resources/js/jquery/jquery-ui.min.js"></script>
	<script type="text/javascript" src="/portal/resources/js/mustache/mustache-min.js"></script>
	<script type="text/javascript" src="/style-guide/js/fluig-style-guide.min.js" charset="utf-8"></script>
	<script type="text/javascript" src="/webdesk/vcXMLRPC.js"></script>
	<script type="text/javascript" src="util.js"></script>
	<script type="text/javascript" src="formatMoeda.js"></script>
	
</head>
<body>
<div class="fluig-style-guide">
<form name="form" role="form">

<!--progress bar-->
<div class="progress" id="p1">
    <div class="progress-bar progress-bar-striped active"  role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 1%">
        <span>1%</span>
    </div>
</div>
<div class="progress" id="p50">
    <div class="progress-bar progress-bar-striped active"  role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 50%">
        <span>50%</span>
    </div>
</div>
<div class="progress" id="p75">
    <div class="progress-bar progress-bar-striped active"  role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 75%">
        <span>75%</span>
    </div>
</div>
<div class="progress" id="p100">
    <div class="progress-bar progress-bar-striped active"  role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
        <span>100%</span>
    </div>
</div>

<!--cabeçalho-->

	<div class="row">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<div align="center" class="panel-title">
					<h1><i class="fluigicon fluigicon-desktop icon-md" aria-hidden="true"></i> Solicitação de Suporte</h1>
				</div>
			</div>
		</div>
	</div>

<!-- aviso -->

<div class="paragraph-is-required system-message-information alert alert-warning" role="alert">Todos os campos com * são de preenchimento obrigatório.</div>

<!-- Painel do Requisitante -->

	<div class="panel panel-primary" id="painel_req">
		<div class="panel-heading">
			<h3 class="panel-title"><i class="flaticon flaticon-person icon-md" aria-hidden="true"></i>Requisitante</h3>
		</div>
		<div class="panel-body">
			<div class="row">
				<div class="form-group col-md-2" id="name">
					<label for="name">Nome</label>
						<select name="name" class="form-control" dataset="colleague" datasetkey="colleagueId" datasetvalue="colleagueName"></select>
				</div>
				
					<div class="form-group col-md-2" id="ramal">
						<label for="ramal">Ramal</label>
							<span class="required text-danger">
								<strong>*</strong>
							</span>
							<input type="text" placeholder="0000" mask="0000" class="form-control uppercase" onkeyup="this.value=this.value.replace(/[^0-9]/g,'');" name="ramal" maxlength="4" />
					</div>
					
					<div class="form-group fs-cursor-pointer quan" id="maquina">
						<div class="input-group date">
						<label for="maquina">Número da Maquina (AMWKS)</label>
							<span class="required text-danger">
								<strong>*</strong>
							</span>	
							<input type="text" placeholder="00000" class="form-control uppercase" onkeyup="this.value=this.value.replace(/[^0-9]/g,'');" name="maquina" id="maquina" maxlength="5" />
						</div>
					</div>
				
			</div>
		</div>
	</div>

<!-- Fim do Painel -->

<!-- Painel de Descrição -->

<div class="panel panel-primary" id="painel_desc">
	<div class="panel-heading">
		<h3 class="panel-title"><i class="fluigicon fluigicon-files icon-sm"></i> Descrição</h3>
	</div>
	
	<div class="form-group row">
		<div class="col-md-6">
			<div class="panel-body">		
				<div class="panel panel-primary">
					<div class="panel-body">
						<div class="form-group row">
								<div class="col-md-6">
									<label>Serviços</label>
									<select name="tipoServico" id="tipoServico" class="form-control" dataset="dsteste" datasetkey="Servico" datasetvalue="Servico"></select>
								</div>
								
							<!-- Categoria -->
							
								
								<div class="col-md-3">	
									<label>Categoria</label>
									<div class="input-group">
										<input class="form-control" type="text" readonly
											name="tipoCat" id="tipoCat">
									</div>
								</div>
							
							<!-- SLA -->
							
								<div class="col-md-2">
									<div class="input-group">
										<input class="form-control" type="hidden"
											name="tipoSLA" id="tipoSLA">
									</div>
								</div>
							
							<!-- Data Prazo -->
							
								<div class="col-md-2">
									<div class="input-group">
										<input class="form-control" type="hidden" name="tipoDataSomada" id="tipoDataSomada" >
									</div>
								</div>
						</div>	
						
							
						<div class="form-group row">
							<div class="col-md-6" id="titulo">
								<label for="titulo">Título</label>
								<span class="required text-danger">
								<strong>*</strong>
								</span>
								<input class="form-control" type="text" name="titulo">
							</div>

						</div>
				
						<div class="form-group row">	
							<div class="col-md-6">
								<div class="form-group" id="descricao">
									<label for="descricao">Descrição</label>
									<span class="required text-danger">
									<strong>*</strong>
									</span>
									<textarea class="form-control" name="descricao" rows="7" cols="20"></textarea>
								</div>			
							</div>
										
					</div>	
				</div>
			</div>
		</div>	
	</div>		
								
	<div class="panel-body">
		<div class="col-md-5">
			<div class="panel panel-primary">
				<div class="panel-body">															
							<div class="panel-body">
								<div class="card">
									<div class="card-body">
										<h3 class="card-title">
											<script src="https://cdn.lordicon.com/ritcuqlt.js"></script>
											<lord-icon src="https://cdn.lordicon.com/wdqztrtx.json" trigger="loop"
												colors="primary:#000000" style="width: 25px;height:25px;padding-top: 4px;">
											</lord-icon>
											Instruções:
										</h3>
										<ul>
											<div id="ad">
												<li><strong><u>Preencha com atenção os CAMPOS!</u></strong></li>
												<ol>							
													<li>Em "Serviços", selecione o problema por qual você está passando;</li>
													<li>Em "Título", descreva o problema;</li>
													<li>Em "Descrição", descreva de forma breve sobre o problema.</li> 
												</ol>
											</div>																																					
										</ul>
									</div>
								</div>
							</div>								
						</div>	
					</div>
				</div>
			</div>
			
	</div>
</div>
<!-- Fim do Painel -->

<!-- Painel de Avaliação -->

<div class="panel panel-primary" id="painel_sup">
	<div class="panel-heading">
		<h3 class="panel-title"><i class="flaticon flaticon-star-active icon-sm" aria-hidden="true"></i> Avaliação</h3>
	</div>
	<div class="panel-body">
	
			<div class="form-group row" id="aval">
				<div class="col-md-2">
					<label for="aval">Avaliação do Chamado</label>
					<span class="required text-danger">
						<strong>*</strong>
					</span>
					<select name="aval">
						<option value="1">Excelente</option>
						<option value="2">Bom</option>
						<option value="3">Mais ou Menos</option>
						<option value="4">Ruim</option>
						<option value="5">Péssimo</option>
					</select>
				</div>	
			</div>			    
		
		<div class="row">	
			<div class="form-group col-md-2" id="dataAval">
				<label for="dataAval"><i class="fluigicon fluigicon-calendar icon-xs" aria-hidden="true"></i>
				Data da avaliação</label>
					<input type="text" name="dataAval" class="form-control">
			</div>
		</div>
		<div class="row">
			<div class="col-md-2">
				<div class="form-group" id="obs1">
					<span class="required text-danger">
					<strong>*</strong>
					</span>
					<label for="requisitante">Observações</label>
					<textarea class="form-control" name="obs1" rows="3" cols="20"></textarea>
				</div>
			</div>
		</div>
	</div>
</div>			

<!-- Fim do Painel -->

<!-- Painel de Solução do Suporte -->

<div class="panel panel-primary" id="painel_solucao">
    <div class="panel-heading">
        <h3 class="panel-title"><i class="flaticon flaticon-receipt icon-sm" aria-hidden="true"></i>
        Resposta ao usuário</h3>
    </div>
  <div class="panel-body">
        <div class="col-md-6">
            <div class="form-field table-responsive" data-type="tabledetail" data-show-properties="" data-field-name="tabledetail">
                <table class="table" cellspacing="0" tablename="ingre" noaddbutton="true" nodeletebutton="true">
                    <thead>
                        <tr class="tableHeadRow">
                            <th class="tableColumn">Desfecho do suporte</th>
                            <th class="tableColumn">Data do Desfecho</th>
                        </tr>
                    </thead>
                    <tbody id="tabelaBody">
                        <tr>
                            <td>
                                <div id="obsSoluc">                    
                                    <textarea class="form-control" name="obsSoluc" rows="5" cols="40"></textarea>
                                </div>
                            </td>
                            <td>
                                <td data-label="Data e Hora Atuais" id="dataHoraAtual"></td>		
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="form-group">
				<button type="button" class="btn btn-primary btn-xs" name="inputAdicionar" id="inputAdicionar" onclick="wdkAddChild('ingre')">Adicionar</button>
			</div>
        </div>
    </div>
</div>

<!-- Fim do Painel-->

<!-- Painel de Aprovação do Gerente -->

		<input type="hidden" name="hd_numSuperior" id="numSuperior">
		<input type="hidden" name="hdn_lastState" id="hdn_lastState">
		<input type="hidden" name="hdn_State" id="hdn_State">
		<input type="hidden" name="hdn_diretoria" id="hdn_diretoria">

		<div class="panel panel-primary" id="painel_aprov">
			<div class="panel-heading">
				<h3 class="panel-title"><i class="fluigicon fluigicon-files icon-sm"></i> Aprovação do Superior</h3>
			</div>
			
					<div class="panel-body">
						<div class="form-group row">
							<div class="col-md-3" id="NomeSolicita">
								<label for="cmb_NomeSolicitante">Nome Solicitante</label>
								<select name="cmb_NomeSolicitante" id="cmb_NomeSolicitante" dataset="colleague" datasetkey="colleagueId" datasetvalue="colleagueName" class="form-control" readonly>
								</select>
							</div>
							<div class="col-md-3" id="GerenteSolicita">
								<label for="cmb_GerenteSolicitante">Gerente</label>
								<input type="text" class="form-control" name="cmb_GerenteSolicitante" id="cmb_GerenteSolicitante" readonly>
							</div>
			
							<div class="col-md-4" id="UnidadeSolicita">
								<label for="zm_UnidadeSolicitante">Unidade Solicitante</label>
								<input type="text" class="form-control" name="cmb_UnidadeSolicitante" id="cmb_UnidadeSolicitante" readonly>
							</div>
					
					<div class="form-group row" id="equip">
					    <div class="col-md-3">
					        <label for="equip">Precisa Comprar Equipamentos?</label>
					        <span class="required text-danger">
					            <strong>*</strong>
					        </span>
					        <div>
					        <select name="equip" id="equipSelect">
					            <option value="nao">Não</option>
					            <option value="sim">Sim</option>
					        </select>
					        </div>
					    </div>
					</div>
					</div>
					
					
						<div class="form-group row" id="equipamento">
						    <div class="col-md-2">
						        <label for="equipamento">Equipamento Solicitado</label>
						        <input class="form-control" type="text" name="equipamento">
						    </div>
						    
	   					 	<div class="col-md-4" id="valorEstimado">
						        <label for="valorEstimado">Valor Estimado</label>
						        <div>
								R$ <input name="valorEstimado" onkeyup="k(this);" /><br/>
								</div>
						    </div>
																														
						<div class="col-md-6">
							<div class="panel panel-primary" id="painel_nota">
								<div class="panel-body">															
											<div class="panel-body">
												<div class="card">
													<div class="card-body">
														<h3 class="card-title">
															<script src="https://cdn.lordicon.com/ritcuqlt.js"></script>
															<lord-icon src="https://cdn.lordicon.com/wdqztrtx.json" trigger="loop"
																colors="primary:#000000" style="width: 25px;height:25px;padding-top: 4px;">
															</lord-icon>
															Observação:
														</h3>
														<ul>
															<div id="ad">
																<li><strong><u>NOTA FISCAL NECESSÁRIA!</u></strong></li>
																<ol>							
																	<li>No canto superior direito, clique em 'Anexos';</li>
																	<li>Na parte central, clique em 'Selecionar Arquivos;</li>
																	<li>Procure o arquivo (NF) na sua pasta e clique em 'Abrir';</li>
																	<li>Após seu arquivo ser carregado, no canto inferior esquerdo, clique em 'Enviar'.</li>  
																</ol>
															</div>																																					
														</ul>
													</div>
												</div>
											</div>								
										</div>	
									</div>
								</div>
							</div>							
						</div>
							
					
				<div class="table-responsive" id="tabela_Rateio">
					<table class="table">
						<thead>							
						</thead>
						<tbody>
							<tr>
								<td>
									<div class="col-md-2">
										<button type="button" class="waves-effect waves-light btn btn-info"
											id="addRateio" onclick="addRateioz();">Adicionar</button>
									</div>
								</td>
							</tr>
							<tr>
								<td>
									<table id="dadosrateio" tablename="dadosrateio" class="table table-hover"
										noaddbutton="true" nodeletebutton="true">
										<thead>
											<tr>
												<td></td>
											</tr>
										</thead>
										<tbody>
											<tr>
												<td>
													
													<div class="form-group row">
														<div class="col-md-9" style="display: none;">
															<label for="txt_projeto">Projeto<span
																	class="Obrigatorio"><strong>*</strong></span></label>
															<input type="zoom" id="txt_projeto" name="txt_projeto"
																data-zoom="{
																			'displayKey':'NOME',
																			'datasetId':'dsprojeto',
																			'maximumSelectionLength':'1',
																			'placeholder':'Escolha o projeto',
																			'fields':[
																			{
																				'field':'CODCCUSTO',
																				'label':'CODIGO'
																			},{
																					'field':'NOME',
																					'label':'NOME',
																					'standard':'true'
																			}
																			]
																			}">

														</div>
														<div id="projetov" class="col-md-9 projetov">
														</div>
														<input type="hidden" name="txt_codprojeto" id="txt_codprojeto">														
													</div>
													
													
													
													
													<div class="form-group row">
														<div class="col-md-9" style="display: none;">
															<label for="txt_acao">Ação<span
																	class="Obrigatorio"><strong>*</strong></span>:</label>
															<input type="zoom" class="form-control" id="txt_acao"
																name="txt_acao" data-zoom="{
																			'displayKey':'NOME',
																			'datasetId':'dsacao',
																			'maximumSelectionLength':'1',
																			'placeholder':'Escolha a aÃ§Ã£o',
																			'fields':[
																			{
																				'field':'CODCCUSTO',
																				'label':'CODIGO',
																				'search':'true'
																				
																			},{
																					'field':'NOME',
																					'label':'NOME',
																					'search':'true',
																					'standard':'true'
																			}
																			]
																			}">

														</div>
														
														<div id="acaov" class="col-md-9 acaov"></div>
														
														<input type="hidden" name="txt_codacao" id="txt_codacao">
																											
													</div>
													
													<div class="form-group row">
														<div class="col-md-9" style="display: none;">
															<label for="txt_recursos">Unidade<span
																	class="Obrigatorio"><strong>*</strong></span>:</label>
															<input type="zoom" class="form-control" id="txt_recursos"
																name="txt_recursos" data-zoom="{
																			'displayKey':'NOME',
																			'datasetId':'dsunidade',
																			'maximumSelectionLength':'1',
																			'placeholder':'Escolha a unidade',
																			'fields':[
																			{
																				'field':'CODCCUSTO',
																				'label':'CODIGO'
																			},{
																					'field':'NOME',
																					'label':'NOME',
																					'standard':'true'
																			}
																			]
																			}">

														</div>
														
														<div id="unidadev" class="col-md-9 unidadev">
														</div>
														
														<input type="hidden" name="txt_codrecurso" id="txt_codrecurso">
													</div>
												</td>
											</tr>
										</tbody>
									</table>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			
<!-- Fim do Painel -->

</form>
</div>
</body>
	
	<script>function atualizarDataHoraAtual() {
            const dataHoraAtual = new Date();
            const formatoDataHora = dataHoraAtual.toLocaleString();
            document.getElementById('dataHoraAtual').textContent = formatoDataHora;
        }
        atualizarDataHoraAtual();</script>
	
	<script src="custom.js"></script>
	<script src="dtc.js"></script>

	<link rel="stylesheet" type="text/css" href="/style-guide/css/fluig-style-guide-ratingstars.min.css">
	<script type="text/javascript">
		var calendariodataAval = FLUIGC.calendar('#dataAval', {
			pickDate: false,
			useCurrent: true,
		});	
	</script>

</html>